{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","logoType","url","simplifyUrl","replace","render","remove","forEach","node","index","console","log","$li","concat","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.10108e56.js","sourceRoot":"..\\src","sourcesContent":["//因为li是在siteList里面的，所以需要把siteList放前面\r\nconst $siteList = $(\".siteList\")\r\nconst $lastLi = $siteList.find('li.last')\r\n\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\n\r\nconst hashMap = xObject || [\r\n  {logo:'A',logoType:'text',url:'https://www.acfun.cn'},\r\n  {logo:'B',logoType:'text',url:'https://www.bilibili.com'},\r\n  {logo:'B',logoType:'text',url:'https://www.baidu.com'}\r\n]\r\n\r\n//简化URL显示\r\nconst simplifyUrl = (url)=>{\r\n  return url.replace('https://','')\r\n            .replace('http://','')\r\n            .replace('www.','')\r\n            .replace(/\\/.*/,'')\r\n}\r\n\r\n\r\nconst render = ()=>{\r\n  $siteList.find(\"li:not(.last)\").remove()\r\n  hashMap.forEach((node,index)=>{\r\n    console.log(index)\r\n    const $li = $(`<li>\r\n              <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                <div class=\"close\">\r\n                  <svg class=\"icon\"><use xlink:href=\"#icon-close\"></use></svg>\r\n                </div>\r\n\r\n              </div>\r\n          </li>`).insertBefore($lastLi)\r\n\r\n    //因为a标签没办法再加一个关闭按钮，点关闭按钮总是跳转所以直接不用,改用JS控制\r\n    $li.on('click',()=>{\r\n      window.open(node.url)\r\n\r\n    })\r\n\r\n    //阻止冒泡，然后关闭按钮生效\r\n    $li.on('click','.close',(e)=>{\r\n      e.stopPropagation()\r\n      console.log(hashMap)\r\n      hashMap.splice(index,1)//根据索引index开始删，删除一个数据\r\n      render()//删除以后必须渲染\r\n    })  \r\n  })\r\n}\r\nrender()\r\n\r\n$('.addButton')\r\n    .on('click',()=>{\r\n        console.log(1)\r\n        let url = window.prompt(\"请问你要添加的网址是：\")\r\n        if(url.indexOf(\"http\")!==0){\r\n            url = \"https://\"+url\r\n            // alert(\"请输入以http开头的网址\")\r\n            console.log(url)};\r\n\r\n        hashMap.push({logo:simplifyUrl(url)[0].toUpperCase(),logoType:'text',url:url});\r\n        render();\r\n    })\r\n\r\n\r\n    // 当关闭页面的时候，把当前的hashMap存在x里面，下次进来的时候会自动保存\r\nwindow.onbeforeunload = ()=>{\r\n  console.log('页面关闭')\r\n  const string = JSON.stringify(hashMap)\r\n  localStorage.setItem('x',string) \r\n}\r\n\r\n\r\n\r\n//键盘事件：在页面输入a就可以打开acfun.com等\r\n$(document).on('keypress',(e)=>{\r\n  console.log(e.key)//打印出按下的是哪个键\r\n\r\n  const {key} = e //这是全写语法：const key = e.key  \r\n  for(let i = 0;i<hashMap.length;i++){\r\n    if(hashMap[i].logo.toLowerCase()===key){//toLowerCase转成小写\r\n      window.open(hashMap[i].url)\r\n    }\r\n  }\r\n})"]}